@model IEnumerable<EDIS.Models.LocationModels.FloorModel>

@{
    Layout = "~/Views/Shared/_PassedLayout.cshtml";
    ViewData["Title"] = "Index";
}

<style>
    .panel {
        background-color: inherit;
        border-color: white;
    }

    form label {
        padding-top: 7px;
        font-size: 120%;
    }
</style>

<h2>樓層一覽</h2>
<hr />
<div class="panel panel-primary">
    <div class="panel-body">
        <form name="searchForm" action="Floor/GetFloorList" method="GET" data-ajax="true" data-ajax-update="#floorListDiv" id="searchForm">
            <div class="form-inline">

                <div class="form-group col-md">
                    <label class="control-label col-md-4">選擇建築:</label>
                    <div class="col-md-8">
                        @Html.DropDownList("BuildingId", null, "選擇建築", htmlAttributes: new { @class = "form-control", required = "required" })
                    </div>
                </div>

                <div class="form-group col-md">
                    <input type="submit" class="btn btn-primary" id="btnQuery" value="查詢" style="width: 120%" />
                </div>

            </div>
        </form>
    </div>
</div>

<div id="floorListDiv"></div>

@section scripts{
    <script>
        $(document).ready(function () {
            // While page loaded, show the selected building if user has selected before.
            var selectVal = $("#BuildingId").val();
            if (selectVal != "") {
                $("#searchForm").submit();
            }
        });
    </script>
}
